{"version":3,"sources":["api/TimeSlot/index.js"],"names":["express","require","controller","router","Router","get","index","validateAuthorization","getAllTimeSlot","post","addTimeSlot","put","editTimeSlot","delete","deleteTimeSlot","use","err","req","res","next","allErrorField","i","errors","length","Single_Object","Error","messages","toString","replace","push","status","json","module","exports"],"mappings":";;AAEA;;;;AACA;;;;AACA;;;;AAJA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,aAAaD,QAAQ,uBAAR,CAAjB;;;AAKA,IAAIE,SAASH,QAAQI,MAAR,EAAb;;AAEA;AACAD,OAAOE,GAAP,CAAW,GAAX,EAAgBH,WAAWI,KAA3B;;AAEA;AACAH,OAAOE,GAAP,CAAW,kBAAX,EAA+B,qBAAYE,qBAA3C,EAAkEL,WAAWM,cAA7E;;AAEA;AACAL,OAAOM,IAAP,CAAY,GAAZ,EAAiB,qBAAYF,qBAA7B,EAAoD,iCAAS,qBAAYG,WAArB,CAApD,EAAuFR,WAAWQ,WAAlG;;AAEA;AACAP,OAAOQ,GAAP,CAAW,GAAX,EAAgB,iCAAS,qBAAYC,YAArB,CAAhB,EAAoDV,WAAWU,YAA/D;;AAEA;AACAT,OAAOU,MAAP,CAAc,eAAd,EAA+B,qBAAYN,qBAA3C,EAAkEL,WAAWY,cAA7E;;AAEAX,OAAOY,GAAP,CAAW,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;AACtC,QAAIC,gBAAgB,EAApB;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIL,IAAIM,MAAJ,CAAWC,MAA/B,EAAuCF,GAAvC,EAA4C;AACxC,YAAIG,gBAAgB;AAChBC,mBAAOT,IAAIM,MAAJ,CAAWD,CAAX,EAAcK,QAAd,CAAuBC,QAAvB,GAAkCC,OAAlC,CAA0C,IAA1C,EAAgD,EAAhD;AADS,SAApB;AAGAR,sBAAcS,IAAd,CAAmBL,aAAnB;AACH;AACDN,QAAIY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,qCAAkBX,aAAlB,EAAiCA,aAAjC,CAArB;AACH,CATD;;AAWAY,OAAOC,OAAP,GAAiB9B,MAAjB","file":"index.js","sourcesContent":["var express = require('express');\r\nvar controller = require('./TimeSlot.controller');\r\nimport validations from './validation';\r\nimport validate from 'express-validation';\r\nimport {errorJsonResponse} from '../../config/commonHelper';\r\n\r\nvar router = express.Router();\r\n\r\n//Get All Time Slot (for User) time slot display according to current time\r\nrouter.get('/', controller.index);\r\n\r\n//Get All Time Slot\r\nrouter.get('/GetAllTimeSlots', validations.validateAuthorization, controller.getAllTimeSlot);\r\n\r\n//Add new Time Slot\r\nrouter.post('/', validations.validateAuthorization, validate(validations.addTimeSlot), controller.addTimeSlot);\r\n\r\n//Update Time Slot\r\nrouter.put('/', validate(validations.editTimeSlot), controller.editTimeSlot);\r\n\r\n//Delete Time Slot\r\nrouter.delete('/:timeSlot_id', validations.validateAuthorization, controller.deleteTimeSlot);\r\n\r\nrouter.use(function (err, req, res, next) {\r\n    let allErrorField = [];\r\n    for (let i = 0; i < err.errors.length; i++) {\r\n        let Single_Object = {\r\n            Error: err.errors[i].messages.toString().replace(/\"/g, '')\r\n        };\r\n        allErrorField.push(Single_Object);\r\n    }\r\n    res.status(400).json(errorJsonResponse(allErrorField, allErrorField));\r\n});\r\n\r\nmodule.exports = router;\r\n"]}